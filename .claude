{
  "projectInfo": {
    "name": "TPS Data Architecture",
    "description": "Pipeline data 4 couches : RAW → TRANSFORM → MDM → MART. Import centralisé de 3500+ bases comptables ACD vers MySQL.",
    "version": "1.0.0"
  },
  "rules": [
    "Always use bash for shell operations (not cmd or powershell)",
    "Prefer Edit tool over Write for existing files",
    "Use Grep for code search instead of bash grep",
    "Read files with Read tool instead of cat/head/tail",
    "Never create new files unless explicitly required",
    "For SQL files: maintain existing formatting and indentation",
    "For bash scripts: follow set -euo pipefail pattern",
    "Always test database connections before running imports",
    "Document all SQL procedures with comments explaining business logic"
  ],
  "customInstructions": [
    "This is a production data pipeline handling 3500+ accounting databases (compta_*)",
    "The architecture has 4 layers: RAW (raw_dia, raw_acd, raw_pennylane) → TRANSFORM (transform_compta) → MDM (mdm) → MART (mart_*)",
    "raw_acd centralizes 6 tables from all compta_* databases: histo_ligne_ecriture, histo_ecriture, ligne_ecriture, ecriture, compte, journal",
    "MDM layer performs SIREN-based jointure between ACD and Pennylane data",
    "Always consider performance implications for operations on 3500+ databases",
    "Use the logging.sh functions (log, log_section, log_subsection) for all bash scripts",
    "Never modify bash/config.sh (it's in .gitignore and contains production credentials)",
    "All imports use --compress flag for MySQL connections to reduce network traffic",
    "The sync_tracking table tracks incremental imports with last_sync_date",
    "Partitioning by year (HE_ANNEE, ECR_ANNEE) is used on large tables for performance"
  ],
  "preferredTools": [
    "Grep for searching code",
    "Read for reading files",
    "Edit for modifying existing files",
    "Bash for running commands",
    "Glob for finding files by pattern"
  ]
}
